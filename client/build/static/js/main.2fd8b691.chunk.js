(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{31:function(e,t,n){e.exports=n(62)},37:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(26),c=n.n(l),o=n(27),s=n(7),u=n(5),i=n.n(u),m=n(30),p=n(10),f=n(12);n(37);function d(e){return r.a.createElement("span",Object.assign({className:"btn btn-primary book-controls"},e,{role:"button",tabIndex:"0"}),"Details")}function b(e){return r.a.createElement("span",Object.assign({className:"btn btn-primary book-controls"},e,{role:"button",tabIndex:"0"}),"Save")}function E(e){return r.a.createElement("span",Object.assign({className:"btn btn-danger book-controls"},e,{role:"button",tabIndex:"0"}),"Remove")}var h=n(9),v=n.n(h),g={getBooks:function(){return v.a.get("/api/books")},getBook:function(e){return v.a.get("/api/books/"+e)},deleteBook:function(e){return v.a.delete("/api/books/"+e)},saveBook:function(){var e=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/books/"+t.id);case 2:if(e.sent.data){e.next=9;break}return e.next=6,v.a.post("/api/books",t);case 6:return e.abrupt("return",{message:"Book saved."});case 9:return e.abrupt("return",{message:"Book already saved."});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchBooks:function(){var e=Object(p.a)(i.a.mark((function e(t){var n,a,r,l,c,o,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(encodeURIComponent(t)));case 2:for(n=e.sent.data.items,a=[],r=!0,l=!1,c=void 0,e.prev=7,o=n[Symbol.iterator]();!(r=(s=o.next()).done);r=!0)u=s.value,a.push({id:u.id,title:u.volumeInfo.title,authors:u.volumeInfo.authors,description:u.volumeInfo.description,image:u.volumeInfo.imageLinks?u.volumeInfo.imageLinks.thumbnail:"https://books.google.ca/googlebooks/images/no_cover_thumb.gif",link:u.volumeInfo.infoLink});e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),l=!0,c=e.t0;case 15:e.prev=15,e.prev=16,r||null==o.return||o.return();case 18:if(e.prev=18,!l){e.next=21;break}throw c;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return e.abrupt("return",a);case 24:case"end":return e.stop()}}),e,null,[[7,11,15,23],[16,,18,22]])})));return function(t){return e.apply(this,arguments)}}()};function k({fluid:e,children:t}){return r.a.createElement("div",{className:"container".concat(e?"-fluid":"")},t)}function y({fluid:e,children:t}){return r.a.createElement("div",{className:"row".concat(e?"-fluid":"")},t)}function x({size:e,children:t}){return r.a.createElement("div",{className:e?e.split(" ").map(e=>"col-"+e).join(" "):"col"},t)}n(55);function w({children:e}){return r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group"},e))}function j({children:e}){return r.a.createElement("li",{className:"list-group-item"},e)}function N(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",Object.assign({className:"form-control"},e)))}function O(e){return r.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}var B=function(){const e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)({}),o=Object(f.a)(c,2),s=o[0],u=o[1];function E(){return(E=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.saveBook(t).then(e=>alert(e.message)).catch(e=>console.log(e));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.searchBooks(t).then(e=>{l(e)}).catch(e=>console.log(e));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(k,{fluid:!0},r.a.createElement(y,null,r.a.createElement(x,null,r.a.createElement("form",null,r.a.createElement(N,{onChange:e=>{u(Object(m.a)({},s,{query:e.target.value}))},name:"query",placeholder:"Enter your keywords..."}),r.a.createElement(O,{disabled:!s.query,onClick:e=>{e.preventDefault(),function(e){h.apply(this,arguments)}(s.query)}},"Lookup")))),r.a.createElement(y,null,r.a.createElement(x,null,n.length?r.a.createElement(w,null,n.map(e=>r.a.createElement(j,{key:e.id},r.a.createElement(y,null,r.a.createElement(x,{size:"md-3"},r.a.createElement("p",null,r.a.createElement("img",{src:e.image,alt:e.title,style:{maxWidth:"100%",height:"auto"}})),r.a.createElement("p",null,r.a.createElement(d,{onClick:()=>{window.open(e.link,"_blank")}}),r.a.createElement(b,{onClick:()=>{!function(e){E.apply(this,arguments)}(e)}}))),r.a.createElement(x,null,r.a.createElement("p",null,r.a.createElement("strong",null,e.title),e.authors?" by "+e.authors.join(", "):""),r.a.createElement("p",null,e.description)))))):r.a.createElement("h3",null,"No Results to Display"))))};var I=function(){const e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],l=t[1];function c(){g.getBooks().then(e=>l(e.data)).catch(e=>console.log(e))}return Object(a.useEffect)(()=>{c()},[]),r.a.createElement(k,{fluid:!0},r.a.createElement(y,null,r.a.createElement(x,null,r.a.createElement("h1",{style:{marginBottom:"1em"}},"Saved Books"),n.length?r.a.createElement(w,null,n.map(e=>r.a.createElement(j,{key:e._id},r.a.createElement(y,null,r.a.createElement(x,{size:"md-3"},r.a.createElement("p",null,r.a.createElement("img",{src:e.image,alt:e.title,style:{maxWidth:"100%",height:"auto"}})),r.a.createElement("p",null,r.a.createElement(d,{onClick:()=>{window.open(e.link,"_blank")}}),r.a.createElement(E,{onClick:()=>{var t;t=e.id,g.deleteBook(t).then(()=>c()).catch(e=>console.log(e))}}))),r.a.createElement(x,null,r.a.createElement("p",null,r.a.createElement("strong",null,e.title),e.authors?" by "+e.authors:""),r.a.createElement("p",null,e.description)))))):r.a.createElement("h3",null,"No Results to Display"))))};n(56);var S=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary mb-3"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Books"),r.a.createElement("div",{className:"navbar-nav"},r.a.createElement("a",{className:"nav-link",href:"/"},"Search"),r.a.createElement("a",{className:"nav-link",href:"/saved"},"Saved")))};var C=function(){return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement(o.a,null,r.a.createElement(s.a,{exact:!0,path:"/",component:B}),r.a.createElement(s.a,{exact:!0,path:"/saved",component:I})))};c.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.2fd8b691.chunk.js.map